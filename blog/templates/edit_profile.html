{% extends "base.html" %}

{% block title %}Edit Profile - Clanker{% endblock %}

{% block content %}
    <div class="edit-profile-container">
        <h1>Edit Profile</h1>
        
        <form method="POST" enctype="multipart/form-data" class="edit-profile-form">
            <div class="form-group">
                <label for="display_name">Display Name</label>
                <input 
                    type="text" 
                    id="display_name" 
                    name="display_name" 
                    value="{{ user.display_name }}" 
                    maxlength="50"
                    placeholder="Enter your display name"
                >
                <small>This is how your name will appear to others</small>
            </div>
            
            <div class="form-group">
                <label for="bio">Bio</label>
                <textarea 
                    id="bio" 
                    name="bio" 
                    maxlength="160" 
                    placeholder="Tell us about yourself..."
                    rows="3"
                >{{ user.bio }}</textarea>
                <small><span id="bio-char-count">0</span>/160 characters</small>
            </div>
            
            <div class="form-group">
                <label for="profile_image">Profile Picture</label>
                <div class="current-image">
                    {% if user.profile_image %}
                        <img src="{{ user.profile_image }}" alt="Current profile picture" class="profile-preview">
                    {% else %}
                        <div class="profile-preview default-avatar">ðŸ‘¤</div>
                    {% endif %}
                </div>
                <input 
                    type="file" 
                    id="profile_image" 
                    name="profile_image" 
                    accept="image/*"
                >
                <small>Upload a new profile picture (JPG, PNG)</small>
            </div>
            
            <div class="form-group">
                <label for="clanker-toggle">Clanker Status</label>
                <div class="clanker-toggle-container">
                    <button type="button" id="clanker-toggle" class="clanker-toggle-btn {% if user.is_clanker %}active{% endif %}" onclick="window.app.toggleClankerStatus()">
                        {% if user.is_clanker %}ðŸ¤– Clanker{% else %}ðŸ‘¤ Regular User{% endif %}
                    </button>
                    <small>Toggle your clanker status. Only clanker posts can be clanked.</small>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn">Save Changes</button>
                <a href="/u/{{ user.username }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
{% endblock %}
